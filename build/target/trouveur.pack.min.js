var XRegExp;if(XRegExp)throw Error("can't load XRegExp twice in the same frame");
(function(){var l,h,n,o,m;function j(a,b){if(!XRegExp.isRegExp(a))throw TypeError("type RegExp expected");var d=a._xregexp,a=XRegExp(a.source,s(a)+(b||""));if(d)a._xregexp={source:d.source,captureNames:d.captureNames?d.captureNames.slice(0):null};return a}function s(a){return(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":"")}function t(a,b,d,e){var k=q.length,g,i,f;x=!0;try{for(;k--;)if(f=q[k],d&f.scope&&(!f.trigger||f.trigger.call(e)))if(f.pattern.lastIndex=
b,(i=f.pattern.exec(a))&&i.index===b){g={output:f.handler.call(e,i,d),match:i};break}}catch(c){throw c;}finally{x=!1}return g}function r(a,b,d){if(Array.prototype.indexOf)return a.indexOf(b,d);for(d=d||0;d<a.length;d++)if(a[d]===b)return d;return-1}XRegExp=function(a,b){var d=[],e=XRegExp.OUTSIDE_CLASS,k=0,g,i;if(XRegExp.isRegExp(a)){if(b!==void 0)throw TypeError("can't supply flags when constructing one RegExp from another");return j(a)}if(x)throw Error("can't call the XRegExp constructor within token definition functions");
b=b||"";for(g={hasNamedCapture:!1,captureNames:[],hasFlag:function(a){return b.indexOf(a)>-1},setFlag:function(a){b+=a}};k<a.length;)if(i=t(a,k,e,g))d.push(i.output),k+=i.match[0].length||1;else if(i=l.call(p[e],a.slice(k)))d.push(i[0]),k+=i[0].length;else{i=a.charAt(k);if(i==="[")e=XRegExp.INSIDE_CLASS;else if(i==="]")e=XRegExp.OUTSIDE_CLASS;d.push(i);k++}d=RegExp(d.join(""),h.call(b,z,""));d._xregexp={source:a,captureNames:g.hasNamedCapture?g.captureNames:null};return d};XRegExp.version="1.5.0";
XRegExp.INSIDE_CLASS=1;XRegExp.OUTSIDE_CLASS=2;var y=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,z=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,A=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,x=!1,q=[];l=RegExp.prototype.exec;n=RegExp.prototype.test;o=String.prototype.match;h=String.prototype.replace;m=String.prototype.split;var B=l.call(/()??/,"")[1]===void 0,u=function(){var a=/^/g;n.call(a,"");return!a.lastIndex}(),v=function(){var a=/x/g;h.call("x",a,"");return!a.lastIndex}(),w=RegExp.prototype.sticky!==void 0,p={};p[XRegExp.INSIDE_CLASS]=
/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/;p[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/;XRegExp.addToken=function(a,b,d,e){q.push({pattern:j(a,"g"+(w?"y":"")),handler:b,scope:d||XRegExp.OUTSIDE_CLASS,trigger:e||null})};XRegExp.cache=function(a,b){var d=a+"/"+(b||"");return XRegExp.cache[d]||(XRegExp.cache[d]=XRegExp(a,b))};XRegExp.copyAsGlobal=
function(a){return j(a,"g")};XRegExp.escape=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};XRegExp.execAt=function(a,b,d,e){b=j(b,"g"+(e&&w?"y":""));b.lastIndex=d=d||0;a=b.exec(a);return e?a&&a.index===d?a:null:a};XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens");}};XRegExp.isRegExp=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"};XRegExp.iterate=function(a,b,d,e){for(var k=j(b,"g"),g=-1,i;i=
k.exec(a);)d.call(e,i,++g,a,k),k.lastIndex===i.index&&k.lastIndex++;if(b.global)b.lastIndex=0};XRegExp.matchChain=function(a,b){return function e(a,g){var i=b[g].regex?b[g]:{regex:b[g]},f=j(i.regex,"g"),c=[],C;for(C=0;C<a.length;C++)XRegExp.iterate(a[C],f,function(a){c.push(i.backref?a[i.backref]||"":a[0])});return g===b.length-1||!c.length?c:e(c,g+1)}([a],0)};RegExp.prototype.apply=function(a,b){return this.exec(b[0])};RegExp.prototype.call=function(a,b){return this.exec(b)};RegExp.prototype.exec=
function(a){var b=l.apply(this,arguments),d;if(b){!B&&b.length>1&&r(b,"")>-1&&(d=RegExp(this.source,h.call(s(this),"g","")),h.call(a.slice(b.index),d,function(){for(var a=1;a<arguments.length-2;a++)arguments[a]===void 0&&(b[a]=void 0)}));if(this._xregexp&&this._xregexp.captureNames)for(var e=1;e<b.length;e++)(d=this._xregexp.captureNames[e-1])&&(b[d]=b[e]);!u&&this.global&&!b[0].length&&this.lastIndex>b.index&&this.lastIndex--}return b};if(!u)RegExp.prototype.test=function(a){(a=l.call(this,a))&&
this.global&&!a[0].length&&this.lastIndex>a.index&&this.lastIndex--;return!!a};String.prototype.match=function(a){XRegExp.isRegExp(a)||(a=RegExp(a));if(a.global){var b=o.apply(this,arguments);a.lastIndex=0;return b}return a.exec(this)};String.prototype.replace=function(a,b){var d=XRegExp.isRegExp(a),e,k;if(d&&typeof b.valueOf()==="string"&&b.indexOf("${")===-1&&v)return h.apply(this,arguments);if(d){if(a._xregexp)e=a._xregexp.captureNames}else a+="";k=typeof b==="function"?h.call(this,a,function(){if(e){arguments[0]=
new String(arguments[0]);for(var g=0;g<e.length;g++)e[g]&&(arguments[0][e[g]]=arguments[g+1])}if(d&&a.global)a.lastIndex=arguments[arguments.length-2]+arguments[0].length;return b.apply(null,arguments)}):h.call(this+"",a,function(){var a=arguments;return h.call(b,y,function(i,f,c){if(f)switch(f){case "$":return"$";case "&":return a[0];case "`":return a[a.length-1].slice(0,a[a.length-2]);case "'":return a[a.length-1].slice(a[a.length-2]+a[0].length);default:c="";f=+f;if(!f)return i;for(;f>a.length-
3;)c=String.prototype.slice.call(f,-1)+c,f=Math.floor(f/10);return(f?a[f]||"":"$")+c}else{f=+c;if(f<=a.length-3)return a[f];f=e?r(e,c):-1;return f>-1?a[f+1]:i}})});if(d&&a.global)a.lastIndex=0;return k};String.prototype.split=function(a,b){if(!XRegExp.isRegExp(a))return m.apply(this,arguments);var d=this+"",e=[],h=0,g,i;if(b===void 0||+b<0)b=Infinity;else if(b=Math.floor(+b),!b)return[];for(a=XRegExp.copyAsGlobal(a);g=a.exec(d);){if(a.lastIndex>h&&(e.push(d.slice(h,g.index)),g.length>1&&g.index<d.length&&
Array.prototype.push.apply(e,g.slice(1)),i=g[0].length,h=a.lastIndex,e.length>=b))break;a.lastIndex===g.index&&a.lastIndex++}h===d.length?(!n.call(a,"")||i)&&e.push(""):e.push(d.slice(h));return e.length>b?e.slice(0,b):e};XRegExp.addToken(/\(\?#[^)]*\)/,function(a){return n.call(A,a.input.slice(a.index+a[0].length))?"":"(?:)"});XRegExp.addToken(/\((?!\?)/,function(){this.captureNames.push(null);return"("});XRegExp.addToken(/\(\?<([$\w]+)>/,function(a){this.captureNames.push(a[1]);this.hasNamedCapture=
!0;return"("});XRegExp.addToken(/\\k<([\w$]+)>/,function(a){var b=r(this.captureNames,a[1]);return b>-1?"\\"+(b+1)+(isNaN(a.input.charAt(a.index+a[0].length))?"":"(?:)"):a[0]});XRegExp.addToken(/\[\^?]/,function(a){return a[0]==="[]"?"\\b\\B":"[\\s\\S]"});XRegExp.addToken(/^\(\?([imsx]+)\)/,function(a){this.setFlag(a[1]);return""});XRegExp.addToken(/(?:\s+|#.*)+/,function(a){return n.call(A,a.input.slice(a.index+a[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")});
XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})();if(!XRegExp)throw ReferenceError("XRegExp must be loaded before the Unicode plugin");
(function(){var l={};XRegExp.addUnicodePackage=function(h){var n=/\w{4}/g,o=/[- _]+/g,m,j;for(j in h)h.hasOwnProperty(j)&&(m=j.replace(o,"").toLowerCase(),l.hasOwnProperty(m)||(l[m]=h[j].replace(n,"\\u$&")))};XRegExp.addToken(/\\([pP]){(\^?)([^}]*)}/,function(h,n){var o=h[1]==="P"||h[2],m=h[3].replace(/[- _]+/g,"").toLowerCase();if(h[1]==="P"&&h[2])throw SyntaxError("erroneous characters: "+h[0]);if(o&&n===XRegExp.INSIDE_CLASS)throw SyntaxError("not supported in character classes: \\"+h[1]+"{"+h[2]+
"...}");if(!l.hasOwnProperty(m))throw SyntaxError("invalid or unsupported Unicode item: "+h[0]);return n===XRegExp.OUTSIDE_CLASS?"["+(o?"^":"")+l[m]+"]":l[m]},XRegExp.INSIDE_CLASS|XRegExp.OUTSIDE_CLASS);XRegExp.addUnicodePackage({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"})})();(function(l){var h,n,o,m,j,s,t,r,y;function z(a){for(var f=[],c=0;c<a.snapshotLength;c++)f.push(a.snapshotItem(c));return f}function A(a,f){var c="";f.r===o||f.r===m||(c+="g");f.i&&(c+="i");var b="",d="";f.w&&(b="(^|\\P{L})",d="(\\P{L}|$)");return new XRegExp(b+(f.h?"("+a+")":a)+d,c)}function x(a,f){var c="",b="";a.w&&(c="$1");a.h&&(c+=r,b=y);a.w&&(b+="$3");var d=null,d=typeof f==="string"?f:a.w?"$2":"$1";return c+d+b}function q(a,f,c,b){for(var a=A(a,c),d=x(c,b),e={matchCount:0,nodes:[]},g=function(a,
i,b,f){l++;c.r===m||c.r===o?f.lastIndex=b.length-1:c.w&&f.lastIndex--},h=0;h<f.length;h++){for(var j=f[h],l=0,n=0;n<j.childNodes.length;n++){var p=j.childNodes[n];p.nodeType===k&&XRegExp.iterate(p.data,a,g);if((c.r===m||c.r===o)&&l>0)break}if(l>0){e.nodes.push(j);e.matchCount+=l;if(typeof b==="string"||c.h)j.innerHTML=j.innerHTML.replace(a,d);if(c.r===m||c.r===o)break}}return e}function B(a){return a!==null&&(typeof HTMLElement==="object"?a instanceof HTMLElement:typeof a==="object"&&a.nodeType===
1&&typeof a.nodeName==="string")}function u(a,b){if(!(typeof a==="string"&&a!==""&&B(b))){var c=Error("Search text and HTML element must be provided");c.name="InvalidArgumentError";throw c;}}function v(a){var b={};if(a!==null&&typeof a==="object")for(var c in d)b[c]=c in a?a[c]:d[c];else if(a!==null&&typeof a==="undefined")b=d;else throw a=Error("Options must be an Object"),a.name="InvalidArgumentError",a;return b}function w(a,b,c){var d;d=c.i;var a=a.replace("'","&apos;"),e=[];e.push("descendant-or-self::*");
e.push("[(not(self::script or self::style or self::head");e.push(" or self::meta or self::title or self::link");e.push(" or self::select or self::option or self::optgroup");e.push(" or self::object or self::param or self::noscript");e.push(" or self::noframes or self::map or self::area");e.push(" or self::input or self::img or self::button or self::comment))");e.push(" and text()[contains(");d?(e.push('translate(., "'),e.push(h),e.push('","'),e.push(n),e.push('")')):e.push(".");e.push(',"');d?e.push(a.toLowerCase()):
e.push(a);e.push('")]]');d=e.join("");a=null;switch(c.r){case j:a=XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE;break;case o:a=!c.i||c.w?XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:XPathResult.ANY_UNORDERED_NODE_TYPE;break;case m:a=!c.i||c.w?XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:XPathResult.FIRST_ORDERED_NODE_TYPE;break;case s:a=XPathResult.ORDERED_NODE_SNAPSHOT_TYPE;break;case t:a=XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE;break;default:throw c=Error("Invalid return type"),c.name="InvalidArgumentError",c;
}b=p.evaluate(d,b,null,a,null);d=null;switch(c.r){case j:case s:case t:b.snapshotLength>0&&(d=z(b));break;case o:case m:!c.i||c.w?b.snapshotLength>0&&(d=z(b)):b.singleNodeValue!==null&&(d=[b.singleNodeValue])}return d}var p=l.document;if(typeof XRegExp!=="function")throw Error("Trouveur - This library requires XRegExp to work");r='<span class="trouveur-highlight">';y="</span>";var a=p.head||p.getElementsByTagName("head")[0];if(a){var b=p.createElement("style");b.innerHTML=".trouveur-highlight {background: yellow; color: black;}";
a.appendChild(b)}j="c";m="fn";o="an";s="aon";t="aun";var d={i:!0,w:!1,h:!0,r:t};n="abcdefghijklmnopqrstuvwxyz";h="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var e=new XRegExp(r+"((?:(?!</span>).)*)"+y,"gi"),k=3,g=function(){};g.version="0.9";g.count=function(a,b,c){u(a,b);c=v(c);c.r=j;var b=w(a,b,c),d=0;if(b!==null&&b.length>0)d=q(a,b,c).matchCount;return d};g.find=function(a,b,c){u(a,b);var c=v(c),b=w(a,b,c),d=[];if(b!==null&&b.length>0){if(!c.i||c.w||c.h)b=q(a,b,c).nodes;b.length>0&&(d=b)}return d};g.replace=
function(a,b,c,d){u(a,c);if(typeof b!=="string")throw a=Error("Replacement text must be provided"),a.name="InvalidArgumentError",a;var d=v(d),c=w(a,c,d),e=[];if(c!==null&&c.length>0)c=q(a,c,d,b).nodes,c.length>0&&(e=c);return e};g.highlight=function(a,b,c){c=v(c);c.h=!0;g.count(a,b,c)};g.unhighlight=function(a){if(B(a))for(a=a.getElementsByClassName("trouveur-highlight");a.length>0;){var b=a[0].parentNode;b.innerHTML=b.innerHTML.replace(e,"$1")}else throw a=Error("An HTML element must be provided"),
a.name="InvalidArgumentError",a;};l.Trouveur=g})(window);
