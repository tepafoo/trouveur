(function(u){var v,w,j,k,l,m,h,o,p;function x(a){for(var c=[],b=0;b<a.snapshotLength;b++)c.push(a.snapshotItem(b));return c}function B(a,c){var b="";c.r===j||c.r===k||(b+="g");c.i&&(b+="i");var d="",e="";c.w&&(d="(^|\\P{L})",e="(\\P{L}|$)");return new XRegExp(d+(c.h?"("+a+")":a)+e,b)}function C(a,c){var b="",d="";a.w&&(b="$1");a.h&&(b+=o,d=p);a.w&&(d+="$3");var e=null,e=typeof c==="string"?c:a.w?"$2":"$1";return b+e+d}function q(a,c,b,d){for(var a=B(a,b),e=C(b,d),f={matchCount:0,nodes:[]},l=function(a,
c,d,e){g++;b.r===k||b.r===j?e.lastIndex=d.length-1:b.w&&e.lastIndex--},h=0;h<c.length;h++){for(var n=c[h],g=0,i=0;i<n.childNodes.length;i++){var m=n.childNodes[i];m.nodeType===D&&XRegExp.iterate(m.data,a,l);if((b.r===k||b.r===j)&&g>0)break}if(g>0){f.nodes.push(n);f.matchCount+=g;if(typeof d==="string"||b.h)n.innerHTML=n.innerHTML.replace(a,e);if(b.r===k||b.r===j)break}}return f}function y(a){return a!==null&&(typeof HTMLElement==="object"?a instanceof HTMLElement:typeof a==="object"&&a.nodeType===
1&&typeof a.nodeName==="string")}function r(a,c){if(!(typeof a==="string"&&a!==""&&y(c))){var b=Error("Search text and HTML element must be provided");b.name="InvalidArgumentError";throw b;}}function g(a){var c={};if(a!==null&&typeof a==="object")for(var b in s)c[b]=b in a?a[b]:s[b];else if(a!==null&&typeof a==="undefined")c=s;else throw a=Error("Options must be an Object"),a.name="InvalidArgumentError",a;return c}function t(a,c,b){var d;d=b.i;var a=a.replace("'","&apos;"),e=[];e.push("descendant-or-self::*");
e.push("[(not(self::script or self::style or self::head");e.push(" or self::meta or self::title or self::link");e.push(" or self::select or self::option or self::optgroup");e.push(" or self::object or self::param or self::noscript");e.push(" or self::noframes or self::map or self::area");e.push(" or self::input or self::img or self::button or self::comment))");e.push(" and text()[contains(");d?(e.push('translate(., "'),e.push(v),e.push('","'),e.push(w),e.push('")')):e.push(".");e.push(',"');d?e.push(a.toLowerCase()):
e.push(a);e.push('")]]');d=e.join("");a=null;switch(b.r){case l:a=XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE;break;case j:a=!b.i||b.w?XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:XPathResult.ANY_UNORDERED_NODE_TYPE;break;case k:a=!b.i||b.w?XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:XPathResult.FIRST_ORDERED_NODE_TYPE;break;case m:a=XPathResult.ORDERED_NODE_SNAPSHOT_TYPE;break;case h:a=XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE;break;default:throw b=Error("Invalid return type"),b.name="InvalidArgumentError",b;
}c=i.evaluate(d,c,null,a,null);d=null;switch(b.r){case l:case m:case h:c.snapshotLength>0&&(d=x(c));break;case j:case k:!b.i||b.w?c.snapshotLength>0&&(d=x(c)):c.singleNodeValue!==null&&(d=[c.singleNodeValue])}return d}var i=u.document;if(typeof XRegExp!=="function")throw Error("Trouveur - This library requires XRegExp to work");o='<span class="trouveur-highlight">';p="</span>";var z=i.head||i.getElementsByTagName("head")[0];if(z){var A=i.createElement("style");A.innerHTML=".trouveur-highlight {background: yellow; color: black;}";
z.appendChild(A)}l="c";k="fn";j="an";m="aon";h="aun";var s={i:!0,w:!1,h:!0,r:h};w="abcdefghijklmnopqrstuvwxyz";v="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var E=new XRegExp(o+"((?:(?!</span>).)*)"+p,"gi"),D=3,f=function(){};f.version="0.9";f.count=function(a,c,b){r(a,c);b=g(b);b.r=l;var c=t(a,c,b),d=0;if(c!==null&&c.length>0)d=q(a,c,b).matchCount;return d};f.find=function(a,c,b){r(a,c);var b=g(b),c=t(a,c,b),d=[];if(c!==null&&c.length>0){if(!b.i||b.w||b.h)c=q(a,c,b).nodes;c.length>0&&(d=c)}return d};f.replace=
function(a,c,b,d){r(a,b);if(typeof c!=="string")throw a=Error("Replacement text must be provided"),a.name="InvalidArgumentError",a;var d=g(d),b=t(a,b,d),e=[];if(b!==null&&b.length>0)b=q(a,b,d,c).nodes,b.length>0&&(e=b);return e};f.highlight=function(a,c,b){b=g(b);b.h=!0;f.count(a,c,b)};f.unhighlight=function(a){if(y(a))for(a=a.getElementsByClassName("trouveur-highlight");a.length>0;){var c=a[0].parentNode;c.innerHTML=c.innerHTML.replace(E,"$1")}else throw a=Error("An HTML element must be provided"),
a.name="InvalidArgumentError",a;};u.Trouveur=f})(window);
